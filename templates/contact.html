{% extends 'base.html' %}
{% load static %}
{% block title %}Contact - Learnify{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-8">
    <h2 class="fw-bold">Contact Us</h2>
    <p class="text-muted">Have questions or want to collaborate? Send us a message using the form below.</p>
    <form method="post">
      {% csrf_token %}
      {% if messages %}
        {% for message in messages %}
          {% if 'success' in message.tags %}
            <div class="alert alert-success">{{ message }}</div>
          {% elif 'error' in message.tags or 'danger' in message.tags %}
            <div class="alert alert-danger">{{ message }}</div>
          {% else %}
            <div class="alert alert-info">{{ message }}</div>
          {% endif %}
        {% endfor %}
      {% endif %}

      {% if form %}
        {% if form.non_field_errors %}
          <div class="text-danger">{{ form.non_field_errors }}</div>
        {% endif %}
        <div class="mb-3">
          {{ form.name.label_tag }}
          {{ form.name }}
          {% if form.name.errors %}<div class="text-danger small">{{ form.name.errors|striptags }}</div>{% endif %}
        </div>
        <div class="mb-3">
          {{ form.email.label_tag }}
          {{ form.email }}
          {% if form.email.errors %}<div class="text-danger small">{{ form.email.errors|striptags }}</div>{% endif %}
        </div>
        <div class="mb-3">
          {{ form.message.label_tag }}
          {{ form.message }}
          {% if form.message.errors %}<div class="text-danger small">{{ form.message.errors|striptags }}</div>{% endif %}
        </div>
      {% else %}
        <!-- fallback: previous manual fields -->
      {% endif %}

      <button class="btn-accent" type="submit">Send Message</button>
    </form>
  </div>
  <div class="col-md-4">
    <h3 class="fw-bold">Our Office</h3>
    <p class="text-muted">123 Example St.<br>City, Country<br>contact@learnify.example</p>
  </div>
</div>
{% endblock %}
